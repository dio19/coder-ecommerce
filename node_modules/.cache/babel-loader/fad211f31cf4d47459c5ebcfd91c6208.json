{"ast":null,"code":"var _jsxFileName = \"/home/laptop19/coder-ecommerce/src/components/Category/Category.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getFirestore } from '../../firebase';\nimport ItemList from '../ItemList/ItemList';\nimport Spinner from '../Spinner/Spinner';\nexport default function Category() {\n  const params = useParams();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setLoading(true);\n    const db = getFirestore();\n    const categoryItems = db.collection(\"items\").where(\"categoryId\", \"==\", params.categoryId);\n    categoryItems.get().then(result => {\n      if (result.size === 0) {\n        console.log('No results!');\n      } else {\n        let items = result.docs.map(doc => {\n          return {\n            id: doc.id,\n            ...doc.data()\n          };\n        });\n        setProducts(items);\n      }\n    }).catch(error => {\n      console.log(`Se produjo un error al obtener los items de la categoria \"${params.categoryId}\"`, error);\n    }).finally(() => {\n      setLoading(false);\n    });\n  }, [params]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"welcomeMessage\",\n    className: \"p-3 welcomeCard rounded shadow m-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, params.categoryId.charAt(0).toUpperCase().concat(params.categoryId.substring(1))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ItemList, {\n    items: products,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["/home/laptop19/coder-ecommerce/src/components/Category/Category.js"],"names":["React","useEffect","useState","useParams","getFirestore","ItemList","Spinner","Category","params","products","setProducts","loading","setLoading","db","categoryItems","collection","where","categoryId","get","then","result","size","console","log","items","docs","map","doc","id","data","catch","error","finally","charAt","toUpperCase","concat","substring"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,eAAe,SAASC,QAAT,GAAoB;AAE/B,QAAMC,MAAM,GAAGL,SAAS,EAAxB;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAE,EAAF,CAAxC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAE,IAAF,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AAEZW,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAMC,EAAE,GAAGT,YAAY,EAAvB;AACA,UAAMU,aAAa,GAAGD,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBC,KAAvB,CAA6B,YAA7B,EAA2C,IAA3C,EAAiDR,MAAM,CAACS,UAAxD,CAAtB;AAEAH,IAAAA,aAAa,CAACI,GAAd,GAAoBC,IAApB,CAA2BC,MAAD,IAAY;AAElC,UAAIA,MAAM,CAACC,IAAP,KAAgB,CAApB,EAAuB;AACnBC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD,OAFH,MAES;AACL,YAAIC,KAAK,GAAGJ,MAAM,CAACK,IAAP,CAAYC,GAAZ,CAAiBC,GAAG,IAAI;AAClC,iBAAO;AAACC,YAAAA,EAAE,EAAED,GAAG,CAACC,EAAT;AAAa,eAAGD,GAAG,CAACE,IAAJ;AAAhB,WAAP;AACD,SAFW,CAAZ;AAGAnB,QAAAA,WAAW,CAACc,KAAD,CAAX;AACD;AAEN,KAXD,EAWGM,KAXH,CAWWC,KAAD,IAAW;AACjBT,MAAAA,OAAO,CAACC,GAAR,CAAa,6DAA4Df,MAAM,CAACS,UAAW,GAA3F,EAA+Fc,KAA/F;AACH,KAbD,EAaGC,OAbH,CAaa,MAAM;AACfpB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAfD;AAiBH,GAvBQ,EAuBN,CAACJ,MAAD,CAvBM,CAAT;;AAyBA,MAAIG,OAAJ,EAAa;AACT,wBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH;;AAED,sBACI;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,2CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,EAAE,EAAC,gBAAR;AAAyB,IAAA,SAAS,EAAC,oCAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,MAAM,CAACS,UAAP,CAAkBgB,MAAlB,CAAyB,CAAzB,EAA4BC,WAA5B,GAA0CC,MAA1C,CAAiD3B,MAAM,CAACS,UAAP,CAAkBmB,SAAlB,CAA4B,CAA5B,CAAjD,CADL,CADJ,CADJ,CADJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE3B,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CARJ,CADJ;AAcH","sourcesContent":["import React, { useEffect, useState }from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getFirestore } from '../../firebase';\nimport ItemList from '../ItemList/ItemList';\nimport Spinner from '../Spinner/Spinner';\n\nexport default function Category() {\n\n    const params = useParams();\n    const [products, setProducts] = useState ([]);\n    const [loading, setLoading] = useState (true);\n\n    useEffect(() => {\n\n        setLoading(true);\n        const db = getFirestore();\n        const categoryItems = db.collection(\"items\").where(\"categoryId\", \"==\", params.categoryId);\n\n        categoryItems.get().then( (result) => {\n\n            if (result.size === 0) {\n                console.log('No results!');\n              } else {\n                let items = result.docs.map (doc => {\n                  return {id: doc.id, ...doc.data()};\n                });\n                setProducts(items);\n              }\n\n        }).catch( (error) => {\n            console.log(`Se produjo un error al obtener los items de la categoria \"${params.categoryId}\"`, error)\n        }).finally ( () => {\n            setLoading(false);\n        });\n        \n    }, [params]);\n\n    if (loading) {\n        return (\n            <Spinner/>\n        );\n    }\n\n    return (\n        <div id=\"home\">\n            <div className=\"d-flex flex-column justify-content-center\">\n                <div id=\"welcomeMessage\" className=\"p-3 welcomeCard rounded shadow m-4\">\n                    <h2>\n                        {params.categoryId.charAt(0).toUpperCase().concat(params.categoryId.substring(1))}\n                    </h2>\n                </div>\n            </div>\n            <div>\n                <ItemList items={products}/>\n            </div>\n        </div>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}